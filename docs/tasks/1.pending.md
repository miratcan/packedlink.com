# Pending Tasks – P1 Delivery

Bu dosya bir sonraki oturumda P1 geliştirmelerini hızla devam ettirebilmek için bekleyen işleri listeler.

## 1. Altyapı ve Ortam
- `src/backend` içinde yeni Django projesi kuruldu; `uv sync` sonrası `manage.py` komutları çalıştırılmalı.
- `.env` dosyasını `src/backend/.env.example` üzerinden oluşturup `DJANGO_SECRET_KEY`, `DATABASE_URL` ve PostHog ayarlarını doldur.
- `src/frontend` klasörü şu an boş; Next.js 14 + TypeScript projesi burada initialize edilecek.

## 2. Backend Planı (Django)
1. **Çekirdek App'ler**
   - `lists` isminde app oluştur, modelleri (`List`, `Link`, `ListEvent`) yeniden tanımla.
   - Hash ID için `shortuuid`, yönetim token mantığı, lifespan alanları geri getirilecek.
2. **Form + View Akışı**
   - Start form → builder → publish → success → public page akışı (Focus P1 kapsamıyla birebir) şablonlarla kurulacak.
   - Session tabanlı düzenleme izni ve publish sonrası tek seferlik yönetim linki mantığı tekrar implement edilecek.
3. **Expire & Event Log**
   - `List.publish`, `mark_expired_if_needed` gibi yardımcı metodlar.
   - `ListEvent.log` hem DB’ye yazar hem PostHog’a (env açılırsa) event gönderir.
   - Expire için manuel management command (+ ileride cron).
4. **Ayarlar & Yardımcılar**
   - `TEMPLATES` için `templates/` klasörü oluştur, base layout + sayfalar ekle.
   - `Justfile` komutlarını doğrula, `uv.lock` üret, `pytest` alt yapısı kur.

## 3. Frontend Planı (Next.js)
1. `src/frontend` altında Next.js 14 + App Router + TypeScript init (`create-next-app`).
2. Shared UI: hero landing, form placeholderları (ileride backend API'lerine bağlanacak).
3. Backend hazır olana kadar builder/publish ekranları için mock data; API tamamlanınca gerçek endpoint’lere bağlan.
4. Tailwind, React Query, Zustand (gerektiğinde) yapılarını kur; env yönetimini Vercel uyumlu hale getir.

## 4. Test & Ölçüm
- Backend’de publish akışı için unit testler (`pytest-django` veya Django test runner) yazılacak.
- PostHog entegrasyonu için `capture_list_event` helper’ı eklenecek (TODO olarak notla).
- Analytics event şeması `docs/marketing/analytics_strategy.md` ile senkron tutulacak.

## 5. Çıktılar
- Backend: P1 akışı uçtan uca çalışır hale gelecek (anonim liste oluşturma → publish → public URL → expire).
- Frontend: Next.js tabanlı yeni UI, ileride API ile konuşacak şekilde hazırlanacak.
- Deploy için: `.env` talimatları README’de güncellendi; kalıcı notlar burada tutulacak.
